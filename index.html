<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>RS Hourly :45 Alert</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      padding: 10px;
    }
    #status {
      margin-top: 5px;
      font-size: 14px;
    }
    button {
      padding: 5px 10px;
      margin-right: 5px;
    }
  </style>
</head>
<body>
  <h2>RS Hourly :45 Alert</h2>
  <p>
    Alerts at <strong>HH:45</strong> every hour.
  </p>
  <button id="startBtn">Start Alerts</button>
  <button id="stopBtn">Stop Alerts</button>
  <div id="status">Alerts are stopped.</div>

  <audio id="alertSound" src="alert.wav" preload="auto"></audio>

  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const status = document.getElementById("status");
      if (status) {
        status.textContent = status.textContent + " (Alt1 check running)";
      }

      try {
        if (window.alt1) {
          console.log("Alt1 object found:", alt1);

          if (typeof alt1.identifyAppUrl === "function") {
            alt1.identifyAppUrl(
              "HH45 Timer",
              "Alerts at HH:45 every hour.",
              window.location.href
            );
            console.log("identifyAppUrl called");
          } else if (typeof alt1.identifyApp === "function") {
            alt1.identifyApp(JSON.stringify({
              appName: "HH45 Timer",
              description: "Alerts at HH:45 every hour.",
              appUrl: window.location.href
            }));
            console.log("identifyApp called");
          } else {
            console.log("Alt1 has no identifyAppUrl / identifyApp");
          }
        } else {
          console.log("No window.alt1 object. Are you in the Alt1 browser?");
        }
      } catch (e) {
        console.log("Alt1 identification failed:", e);
      }
    });
  </script>

  <script src="timer.js"></script>
</body>
</html>
