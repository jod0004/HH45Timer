<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>HH45 Timer</title>
  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      padding: 8px 10px;
      color: #e4ecef;

      /* Dark textured-style background similar to your sample */
      background-color: #0f1920;
      background-image:
        radial-gradient(circle at 0 0, rgba(255,255,255,0.08) 0, transparent 40%),
        radial-gradient(circle at 100% 100%, rgba(255,255,255,0.05) 0, transparent 40%),
        radial-gradient(circle at 20% 80%, rgba(255,255,255,0.05) 0, transparent 45%);
      background-repeat: repeat;
    }
    h2 {
      margin: 0 0 4px 0;
      font-size: 18px;
    }
    p {
      margin: 0 0 8px 0;
      font-size: 13px;
    }
    #status {
      margin-top: 6px;
      font-size: 13px;
    }
    label {
      font-size: 13px;
    }
  </style>
</head>
<body>
  <h2>HH45 Timer</h2>
  <p>
    Alerts at <strong>HH:40</strong> every hour, with an optional
    <strong>HH:44:30</strong> early alert.
  </p>

  <label>
    <input type="checkbox" id="earlyAlertToggle" checked>
    Enable 30-second-early alert (HH:44:30)
  </label>

  <div id="status">Scheduling alertsâ€¦</div>

  <audio id="alertSound" src="alert.wav" preload="auto"></audio>

  <!-- Alt1 identify block (harmless outside Alt1) -->
  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const status = document.getElementById("status");
      if (status) {
        status.textContent = status.textContent + " (Alt1 check running)";
      }

      try {
        if (window.alt1) {
          console.log("Alt1 object found:", alt1);

          if (typeof alt1.identifyAppUrl === "function") {
            alt1.identifyAppUrl(
              "HH45 Timer",
              "RS hourly alerts at HH:40 with optional HH:44:30 early ping.",
              window.location.href
            );
            console.log("identifyAppUrl called");
          } else if (typeof alt1.identifyApp === "function") {
            alt1.identifyApp(JSON.stringify({
              appName: "HH45 Timer",
              description: "RS hourly alerts at HH:40 with optional HH:44:30 early ping.",
              appUrl: window.location.href
            }));
            console.log("identifyApp called");
          } else {
            console.log("Alt1 has no identifyAppUrl / identifyApp");
          }
        } else {
          console.log("No window.alt1 object. Not running inside Alt1 browser.");
        }
      } catch (e) {
        console.log("Alt1 identification failed:", e);
      }
    });
  </script>

  <script src="timer.js"></script>
</body>
</html>
